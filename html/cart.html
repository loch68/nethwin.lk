<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Cart - NethwinLK</title>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Work+Sans%3Awght%40400%3B500%3B700%3B900"
    />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link rel="stylesheet" href="../css/hover-effects.css" />
    <link rel="stylesheet" href="../css/navbar.css" />
    <link rel="stylesheet" href="../css/background-animations.css" />
    <link rel="stylesheet" href="../css/responsive.css" />
</head>
<body>
    <div class="relative flex min-h-screen flex-col bg-white overflow-x-hidden font-[Inter, 'Noto Sans', sans-serif] modern-gradient">
      <!-- Background Animation Container -->
      <div class="particles-container fixed inset-0 pointer-events-none z-0" id="particlesContainer"></div>
      <div class="layout-container flex flex-col grow h-full relative z-10">
      <!-- Modern Seamless Navbar -->
      <nav class="modern-navbar fixed top-0 left-0 right-0 z-30">
        <div class="navbar-container">
          <!-- Logo/Brand -->
          <div class="navbar-brand">
            <a href="index.html" class="flex items-center">
              <img src="../assets/fLogo.png" alt="NethwinLK" class="navbar-logo">
            </a>
          </div>
          
          <!-- Navigation Links -->
          <div class="navbar-links" id="navbarLinks">
            <a href="index.html" class="nav-link">Home</a>
            <a href="print.html" class="nav-link">Print Services</a>
            <a href="bookshop.html" class="nav-link">Bookshop</a>
            <a href="aboutus.html" class="nav-link">About</a>
            <a href="contactus.html" class="nav-link">Contact</a>
          </div>
          
          <!-- Desktop Auth Area -->
          <div class="navbar-auth" id="navbarAuth">
            <a href="cart.html" class="nav-auth-btn active">
              <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5H17M9 19.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM20.5 19.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"></path>
              </svg>
              Cart
            </a>
            <a href="search.html" class="nav-auth-btn">
              <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
              Search
            </a>
            <a href="login.html" class="nav-auth-btn">
              <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013 3v1"></path>
              </svg>
              Login
            </a>
          </div>
          
          <!-- Mobile Auth Icons (hidden on desktop) -->
          <div class="mobile-auth-icons hidden md:hidden">
            <a href="cart.html" class="mobile-icon-btn">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5H17M9 19.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM20.5 19.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"></path>
              </svg>
            </a>
            <a href="search.html" class="mobile-icon-btn">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
            </a>
            <a href="login.html" class="mobile-icon-btn">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013 3v1"></path>
              </svg>
            </a>
          </div>
          
          <!-- Mobile Menu Toggle -->
          <button class="mobile-menu-toggle" id="mobileToggle">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </button>
        </div>
      </nav>
      
      <!-- Navbar Spacer -->
      <div style="height: 4rem;"></div>
        <div class="px-40 flex flex-1 justify-center py-5">
          <div class="layout-content-container flex flex-col max-w-[960px] flex-1">
            <div class="flex flex-wrap gap-2 p-4">
              <a class="text-[#60708a] text-base font-medium leading-normal" href="#">Shop</a>
              <span class="text-[#60708a] text-base font-medium leading-normal">/</span>
              <span class="text-[#111418] text-base font-medium leading-normal">Cart</span>
            </div>
            <h2 class="text-[#111418] tracking-light text-[28px] font-bold leading-tight px-4 text-left pb-3 pt-5">Your Cart</h2>
            <h3 class="text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">Cart Items</h3>
            <div id="cartItems" class="flex flex-col gap-2"></div>
            <h3 class="text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">Delivery Options</h3>
            <div class="flex flex-col gap-3 p-4">
              <label class="flex items-center gap-4 rounded-xl border border-solid border-[#dbdfe6] p-[15px]">
                <input
                  type="radio"
                  class="h-5 w-5 border-2 border-[#dbdfe6] bg-transparent text-transparent checked:border-[#111418] checked:bg-[image:--radio-dot-svg] focus:outline-none focus:ring-0 focus:ring-offset-0 checked:focus:border-[#111418]"
                  name="03efdab5-a2d6-434e-9fd1-9bca7f7cecd7"
                  checked=""
                />
                <div class="flex grow flex-col"><p class="text-[#111418] text-sm font-medium leading-normal">Local Delivery (within 10km)</p></div>
              </label>
              <label class="flex items-center gap-4 rounded-xl border border-solid border-[#dbdfe6] p-[15px]">
                <input
                  type="radio"
                  class="h-5 w-5 border-2 border-[#dbdfe6] bg-transparent text-transparent checked:border-[#111418] checked:bg-[image:--radio-dot-svg] focus:outline-none focus:ring-0 focus:ring-offset-0 checked:focus:border-[#111418]"
                  name="03efdab5-a2d6-434e-9fd1-9bca7f7cecd7"
                />
                <div class="flex grow flex-col"><p class="text-[#111418] text-sm font-medium leading-normal">Store Pickup</p></div>
              </label>
            </div>
            <h3 class="text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">Payment Method</h3>
            <div class="flex flex-col gap-3 p-4">
              <label class="flex items-center gap-4 rounded-xl border border-solid border-[#dbdfe6] p-[15px]">
                <input
                  type="radio"
                  class="h-5 w-5 border-2 border-[#dbdfe6] bg-transparent text-transparent checked:border-[#111418] checked:bg-[image:--radio-dot-svg] focus:outline-none focus:ring-0 focus:ring-offset-0 checked:focus:border-[#111418]"
                  name="b63d2aa0-54a1-4ffd-95f7-581ed9e2b787"
                  checked=""
                />
                <div class="flex grow flex-col"><p class="text-[#111418] text-sm font-medium leading-normal">Credit/Debit Card</p></div>
              </label>
              <label class="flex items-center gap-4 rounded-xl border border-solid border-[#dbdfe6] p-[15px]">
                <input
                  type="radio"
                  class="h-5 w-5 border-2 border-[#dbdfe6] bg-transparent text-transparent checked:border-[#111418] checked:bg-[image:--radio-dot-svg] focus:outline-none focus:ring-0 focus:ring-offset-0 checked:focus:border-[#111418]"
                  name="b63d2aa0-54a1-4ffd-95f7-581ed9e2b787"
                />
                <div class="flex grow flex-col"><p class="text-[#111418] text-sm font-medium leading-normal">PayPal</p></div>
              </label>
              <label class="flex items-center gap-4 rounded-xl border border-solid border-[#dbdfe6] p-[15px]">
                <input
                  type="radio"
                  class="h-5 w-5 border-2 border-[#dbdfe6] bg-transparent text-transparent checked:border-[#111418] checked:bg-[image:--radio-dot-svg] focus:outline-none focus:ring-0 focus:ring-offset-0 checked:focus:border-[#111418]"
                  name="b63d2aa0-54a1-4ffd-95f7-581ed9e2b787"
                />
                <div class="flex grow flex-col"><p class="text-[#111418] text-sm font-medium leading-normal">Cash on Delivery</p></div>
              </label>
            </div>
            <h3 class="text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">Order Summary</h3>
            <div class="p-4">
              <div class="flex justify-between gap-x-6 py-2">
                <p class="text-[#60708a] text-sm font-normal leading-normal">Subtotal</p>
                <p id="subtotal" class="text-[#111418] text-sm font-normal leading-normal text-right">LKR 0.00</p>
              </div>
              <div class="flex justify-between gap-x-6 py-2">
                <p class="text-[#60708a] text-sm font-normal leading-normal">Delivery</p>
                <p id="delivery" class="text-[#111418] text-sm font-normal leading-normal text-right">LKR 0.00</p>
              </div>
              <div class="flex justify-between gap-x-6 py-2">
                <p class="text-[#60708a] text-sm font-normal leading-normal">Total</p>
                <p id="total" class="text-[#111418] text-sm font-normal leading-normal text-right">LKR 0.00</p>
              </div>
            </div>
            <div class="flex px-4 py-3 justify-between">
              <a href="bookshop.html">
                <button
                  class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#f2f4f1] text-[#151612] text-sm font-bold leading-normal tracking-[0.015em] transition-all duration-300 ease-in-out hover:bg-[#e8ebe8] hover:scale-105 hover:shadow-md"
                >
                  <span class="truncate">Continue Shopping</span>
                </button>
              </a>
              <a href="contactus.html">
                <button
                  class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#0ad167] text-[#151612] text-sm font-bold leading-normal tracking-[0.015em] transition-all duration-300 ease-in-out hover:bg-[#08b85a] hover:scale-105 hover:shadow-lg hover:shadow-[#0ad167]/25"
                >
                  <span class="truncate">Proceed to Checkout</span>
                </button>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="../javascript/navbar.js"></script>
    <script src="../javascript/background-animations.js"></script>
    <script>
      // Initialize auth system
      document.addEventListener('DOMContentLoaded', function() {
          initializeAuth();
          setActiveNavLink('cart.html');
      });

      // Tailwind CSS configuration for custom styles
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'nethwin-green': '#0ad167',
              'nethwin-dark': '#0e1b0e',
            },
          },
        },
      };
      
      // Cart rendering
      document.addEventListener('DOMContentLoaded', () => {
        renderCart();
      });

      function getCart() {
        try {
          return JSON.parse(localStorage.getItem('cart') || '[]');
        } catch { return []; }
      }

      function setCart(items) {
        localStorage.setItem('cart', JSON.stringify(items));
      }

      function renderCart() {
        const container = document.getElementById('cartItems');
        const items = getCart();
        container.innerHTML = '';
        let subtotal = 0;
        items.forEach((item, idx) => {
          const quantity = Number(item.quantity || 1);
          const price = Number(item.price || 0);
          const lineTotal = quantity * price;
          subtotal += lineTotal;
          const row = document.createElement('div');
          row.className = 'flex items-center gap-4 bg-white/80 backdrop-blur-sm px-4 min-h-[72px] py-2 justify-between rounded-lg border border-white/20 shadow-sm';
          row.innerHTML = `
            <div class="flex items-center gap-4">
              <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-lg size-14" style="background-image:url('${item.image || '../assets/fLogo.png'}')"></div>
              <div class="flex flex-col justify-center">
                <p class="text-[#111418] text-base font-medium leading-normal line-clamp-1">${item.name || 'Item'}</p>
                <p class="text-[#60708a] text-sm font-normal leading-normal line-clamp-2">Quantity: ${quantity} Â· LKR ${price.toFixed(2)}</p>
              </div>
            </div>
            <div class="shrink-0 flex items-center gap-2">
              <button onclick="changeQty(${idx}, -1)" class="text-base font-medium leading-normal flex h-7 w-7 items-center justify-center rounded-full bg-[#f0f2f5] cursor-pointer hover:bg-[#e8ebe8] transition-colors">-</button>
              <span class="w-6 text-center font-medium">${quantity}</span>
              <button onclick="changeQty(${idx}, 1)" class="text-base font-medium leading-normal flex h-7 w-7 items-center justify-center rounded-full bg-[#f0f2f5] cursor-pointer hover:bg-[#e8ebe8] transition-colors">+</button>
              <button onclick="removeItem(${idx})" class="ml-3 text-red-600 text-sm hover:text-red-700 transition-colors">Remove</button>
            </div>
          `;
          container.appendChild(row);
        });
        document.getElementById('subtotal').textContent = `LKR ${subtotal.toFixed(2)}`;
        const delivery = items.length > 0 ? 5 : 0;
        document.getElementById('delivery').textContent = `LKR ${delivery.toFixed(2)}`;
        document.getElementById('total').textContent = `LKR ${(subtotal + delivery).toFixed(2)}`;
      }

      function changeQty(index, delta) {
        const items = getCart();
        if (!items[index]) return;
        items[index].quantity = Math.max(1, Number(items[index].quantity || 1) + delta);
        setCart(items);
        renderCart();
      }

      function removeItem(index) {
        const items = getCart();
        items.splice(index, 1);
        setCart(items);
        renderCart();
      }
    </script>
  </body>
</html>