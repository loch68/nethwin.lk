<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>Login - NethwinLK</title><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" /><link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Work+Sans%3Awght%40400%3B500%3B700%3B900"
    /><script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script><link rel="stylesheet" href="../css/hover-effects.css" /><link rel="stylesheet" href="../css/navbar.css" /><link rel="stylesheet" href="../css/cart-styles.css" /><link rel="stylesheet" href="../css/background-animations.css" /><link rel="stylesheet" href="../css/responsive.css" /><style>
      /* Modern Animations and Transitions */
      .fade-in-up {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .fade-in-up.animate {
        opacity: 1;
        transform: translateY(0);
      }
      
      .fade-in-left {
        opacity: 0;
        transform: translateX(-30px);
        transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .fade-in-left.animate {
        opacity: 1;
        transform: translateX(0);
      }
      
      .fade-in-right {
        opacity: 0;
        transform: translateX(30px);
        transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .fade-in-right.animate {
        opacity: 1;
        transform: translateX(0);
      }
      
      .scale-in {
        opacity: 0;
        transform: scale(0.9);
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .scale-in.animate {
        opacity: 1;
        transform: scale(1);
      }
      
      /* Enhanced Hover Effects */
      .hover-lift {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .hover-lift:hover {
        transform: translateY(-2px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }
      
      .hover-glow {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .hover-glow:hover {
        box-shadow: 0 0 20px rgba(10, 209, 103, 0.3);
      }
      
      .input-focus {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .input-focus:focus {
        transform: scale(1.02);
        box-shadow: 0 0 0 3px rgba(10, 209, 103, 0.1);
      }
      
      /* Staggered Animation Delays */
      .stagger-1 { transition-delay: 0.1s; }
      .stagger-2 { transition-delay: 0.2s; }
      .stagger-3 { transition-delay: 0.3s; }
      .stagger-4 { transition-delay: 0.4s; }
      .stagger-5 { transition-delay: 0.5s; }
      
      /* Mobile Optimizations */
      @media (max-width: 768px) {
        .mobile-padding {
          padding: 1rem;
        }
        
        .mobile-text-lg {
          font-size: 1.125rem;
        }
        
        .mobile-text-xl {
          font-size: 1.25rem;
        }
        
        .mobile-text-2xl {
          font-size: 1.5rem;
        }
        
        .mobile-text-3xl {
          font-size: 1.875rem;
        }
        
        .mobile-text-4xl {
          font-size: 2.25rem;
        }
        
        .mobile-text-5xl {
          font-size: 3rem;
        }
        
        .mobile-space-y-4 > * + * {
          margin-top: 1rem;
        }
        
        .mobile-space-y-6 > * + * {
          margin-top: 1.5rem;
        }
        
        .mobile-space-y-8 > * + * {
          margin-top: 2rem;
        }
      }
      
      /* Smooth scrolling */
      html {
        scroll-behavior: smooth;
      }
      
      /* Loading animation */
      .loading-pulse {
        animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
      }
      
      @keyframes pulse {
        0%, 100% {
          opacity: 1;
        }
        50% {
          opacity: .5;
        }
      }
      
      /* Gradient animation */
      .gradient-animate {
        background-size: 200% 200%;
        animation: gradient-shift 3s ease infinite;
      }
      
      @keyframes gradient-shift {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }
    </style></head><body><div
      class="relative flex min-h-screen flex-col bg-white overflow-x-hidden font-[Inter, 'Noto Sans', sans-serif] modern-gradient"
    ><!-- Background Animation Container --><div
        class="particles-container fixed inset-0 pointer-events-none z-0"
        id="particlesContainer"
      ></div><div class="layout-container flex flex-col grow h-full relative z-10"><!-- Modern Seamless Navbar --><nav class="modern-navbar fixed top-0 left-0 right-0 z-30"><div class="navbar-container"><!-- Logo/Brand --><div class="navbar-brand"><a href="index.html" class="flex items-center"><img
                  src="../assets/fLogo.png"
                  alt="NethwinLK"
                  class="navbar-logo"
                /></a></div><!-- Navigation Links --><div class="navbar-links" id="navbarLinks"><a href="index.html" class="nav-link">Home</a><a href="print.html" class="nav-link">Print Services</a><a href="bookshop.html" class="nav-link">Bookshop</a><a href="aboutus.html" class="nav-link">About</a><a href="contactus.html" class="nav-link">Contact</a></div><!-- Desktop Auth Area --><div class="navbar-auth" id="navbarAuth"><a href="cart.html" class="nav-auth-btn cart-container relative"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5H17M9 19.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM20.5 19.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"></path>
        </svg>
        <span>Cart</span>
        <span class="cart-count hidden" id="cartCount">0</span></a><a href="search.html" class="nav-auth-btn"><svg
                  class="w-4 h-4 mr-2"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                ><path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                  ></path></svg>
                Search</a><a href="signup.html" class="nav-auth-btn"><svg
                  class="w-4 h-4 mr-2"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                ><path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2M12.5 7a4 4 0 11-8 0 4 4 0 018 0z"
                  ></path></svg>
                Sign Up</a></div><!-- Mobile Auth Icons (hidden on desktop) --><div class="mobile-auth-icons hidden md:hidden"><a href="cart.html" class="mobile-icon-btn mobile-cart-container relative"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5H17M9 19.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM20.5 19.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"></path>
        </svg>
        <span class="mobile-cart-count hidden" id="mobileCartCount">0</span></a><a href="search.html" class="mobile-icon-btn"><svg
                  class="w-5 h-5"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                ><path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                  ></path></svg></a><a href="signup.html" class="mobile-icon-btn"><svg
                  class="w-5 h-5"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                ><path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2M12.5 7a4 4 0 11-8 0 4 4 0 018 0z"
                  ></path></svg></a></div><!-- Mobile Menu Toggle --><button class="mobile-menu-toggle" id="mobileToggle"><span class="hamburger-line"></span><span class="hamburger-line"></span><span class="hamburger-line"></span></button></div></nav><!-- Navbar Spacer --><div style="height: 4rem"></div><!-- Main Content --><main class="flex-1 flex items-center justify-center py-8 md:py-12 px-4 mobile-padding"><div class="w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8 items-center"><!-- Left Side - Welcome Content --><div class="text-center lg:text-left space-y-6 lg:space-y-8 mobile-space-y-6"><div class="space-y-3 lg:space-y-4 mobile-space-y-4"><div class="flex justify-center lg:justify-start fade-in-left"><a href="index.html" aria-label="Go to Home" class="hover-lift"><img
                      src="../assets/fLogo.png"
                      alt="NETHWIN Logo"
                      class="h-12 md:h-16 w-auto transition-transform duration-300 hover:scale-105"
                    /></a></div><h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-[#0e1b0e] leading-tight mobile-text-4xl lg:mobile-text-5xl fade-in-up stagger-1">
                  Welcome
                  <span class="block text-transparent bg-clip-text bg-gradient-to-r from-[#0ad167] to-[#08b85a] gradient-animate">
                    Back
                  </span></h1><p class="text-lg md:text-xl text-gray-600 max-w-md mx-auto lg:mx-0 mobile-text-lg fade-in-up stagger-2">
                  Sign in to access your account and continue your journey with us
                </p></div><!-- Features List --><div class="space-y-3 lg:space-y-4 max-w-md mx-auto lg:mx-0 mobile-space-y-4"><div class="flex items-center gap-3 text-gray-700 hover-lift fade-in-left stagger-3"><div class="w-8 h-8 bg-gradient-to-r from-[#0ad167] to-[#08b85a] rounded-full flex items-center justify-center transition-transform duration-300 hover:scale-110"><svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div><span class="text-sm md:text-base">Access your order history</span></div><div class="flex items-center gap-3 text-gray-700 hover-lift fade-in-left stagger-4"><div class="w-8 h-8 bg-gradient-to-r from-[#0ad167] to-[#08b85a] rounded-full flex items-center justify-center transition-transform duration-300 hover:scale-110"><svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div><span class="text-sm md:text-base">Manage your profile settings</span></div><div class="flex items-center gap-3 text-gray-700 hover-lift fade-in-left stagger-5"><div class="w-8 h-8 bg-gradient-to-r from-[#0ad167] to-[#08b85a] rounded-full flex items-center justify-center transition-transform duration-300 hover:scale-110"><svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div><span class="text-sm md:text-base">Track your orders in real-time</span></div></div></div><!-- Right Side - Login Form --><div class="w-full max-w-md mx-auto fade-in-right"><div class="bg-white/90 backdrop-blur-sm shadow-2xl rounded-3xl p-6 md:p-8 border border-white/30 hover-lift hover-glow"><div class="text-center mb-6 md:mb-8"><h2 class="text-xl md:text-2xl font-bold text-[#0e1b0e] mb-2 mobile-text-xl">Sign In</h2><p class="text-sm md:text-base text-gray-600 mobile-text-sm">Enter your credentials to continue</p></div><!-- Login Form --><form id="loginForm" class="space-y-4 md:space-y-6"><!-- Email or Username --><div class="space-y-2 fade-in-up stagger-1"><label
                      for="email"
                      class="block text-sm font-semibold text-[#0e1b0e]"
                      >Email or Username</label
                    ><div class="relative"><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div><input
                        id="email"
                        name="email"
                        type="text"
                        required
                        placeholder="Enter your email or username"
                        class="w-full pl-10 pr-4 py-3 md:py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0ad167] focus:border-[#0ad167] transition-all duration-300 bg-white/80 text-gray-900 placeholder-gray-500 input-focus"
                      /></div></div><!-- Password --><div class="space-y-2 fade-in-up stagger-2"><label
                      for="password"
                      class="block text-sm font-semibold text-[#0e1b0e]"
                      >Password</label
                    ><div class="relative"><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg></div><input
                        id="password"
                        name="password"
                        type="password"
                        required
                        placeholder="Enter your password"
                        class="w-full pl-10 pr-12 py-3 md:py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0ad167] focus:border-[#0ad167] transition-all duration-300 bg-white/80 text-gray-900 placeholder-gray-500 input-focus"
                      /><button
                        type="button"
                        id="togglePassword"
                        aria-label="Toggle password visibility"
                        class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#0ad167] transition-colors p-1 hover:scale-110"
                      ><svg
                          id="iconEyeOpen"
                          xmlns="http://www.w3.org/2000/svg"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          class="h-5 w-5"
                        ><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z" /><circle cx="12" cy="12" r="3" /></svg><svg
                          id="iconEyeOff"
                          xmlns="http://www.w3.org/2000/svg"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          class="h-5 w-5 hidden"
                        ><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z" /><circle cx="12" cy="12" r="3" /><path d="M3 3l18 18" /></svg></button></div></div><!-- Remember Me & Forgot Password --><div class="flex items-center justify-between"><label class="flex items-center"><input type="checkbox" class="w-4 h-4 text-[#0ad167] border-gray-300 rounded focus:ring-[#0ad167]"><span class="ml-2 text-sm text-gray-600">Remember me</span></label><a href="#" class="text-sm text-[#0ad167] hover:text-[#08b85a] font-medium transition-colors">
                      Forgot password?</a></div><!-- Login button --><button
                    type="submit"
                    class="w-full bg-gradient-to-r from-[#0ad167] to-[#08b85a] hover:from-[#08b85a] hover:to-[#0ad167] text-white font-bold py-4 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-[#0ad167]/25 text-lg"
                  ><span class="flex items-center justify-center gap-2"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"></path></svg>
                      Sign In
                    </span></button></form><!-- Divider --><div class="relative my-8"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-center text-sm"><span class="px-4 bg-white text-gray-500">Or continue with</span></div></div><!-- Social Login Buttons --><div class="grid grid-cols-2 gap-4"><button class="flex items-center justify-center gap-2 py-3 px-4 border-2 border-gray-200 rounded-xl hover:border-gray-300 transition-colors"><svg class="w-5 h-5" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg><span class="text-sm font-medium text-gray-700">Google</span></button><button class="flex items-center justify-center gap-2 py-3 px-4 border-2 border-gray-200 rounded-xl hover:border-gray-300 transition-colors"><svg class="w-5 h-5" fill="#1877F2" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg><span class="text-sm font-medium text-gray-700">Facebook</span></button></div><!-- Sign up link --><p class="text-center text-sm text-gray-600 mt-8">
                  Don't have an account?
                  <a
                    href="signup.html"
                    class="text-[#0ad167] hover:text-[#08b85a] font-semibold underline transition-colors"
                    >Create one now</a
                  ></p></div></div></div></main></div></div><script src="../javascript/navbar.js"></script><script src="../javascript/cart-utils.js"></script><script src="../javascript/background-animations.js"></script><script src="../javascript/auth.js"></script><script>
      // Cart count functionality
      function updateCartCount() {
        try {
          const cart = JSON.parse(localStorage.getItem("nethwin_cart") || "[]");
          const totalItems = cart.reduce((sum, item) => sum + (item.qty || item.quantity || 1), 0);
          
          const cartCount = document.getElementById('cartCount');
          const mobileCartCount = document.getElementById('mobileCartCount');
          
          if (cartCount) {
            if (totalItems > 0) {
              cartCount.textContent = totalItems;
              cartCount.classList.remove('hidden');
            } else {
              cartCount.classList.add('hidden');
            }
          }
          
          if (mobileCartCount) {
            if (totalItems > 0) {
              mobileCartCount.textContent = totalItems;
              mobileCartCount.classList.remove('hidden');
            } else {
              mobileCartCount.classList.add('hidden');
            }
          }
        } catch (e) {
          console.warn("Could not update cart count:", e);
        }
      }

      // Animation trigger function
      function triggerAnimations() {
        const animatedElements = document.querySelectorAll('.fade-in-up, .fade-in-left, .fade-in-right, .scale-in');
        
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('animate');
            }
          });
        }, {
          threshold: 0.1,
          rootMargin: '0px 0px -50px 0px'
        });

        animatedElements.forEach(el => {
          observer.observe(el);
        });
      }

      // Initialize auth system
      document.addEventListener("DOMContentLoaded", function () {
        initializeAuth();
        setActiveNavLink("login.html");
        updateCartCount();
        triggerAnimations();
      });

      // Password toggle functionality
      document.addEventListener("DOMContentLoaded", function () {
        const passwordInput = document.getElementById("password");
        const toggleBtn = document.getElementById("togglePassword");
        const iconEyeOpen = document.getElementById("iconEyeOpen");
        const iconEyeOff = document.getElementById("iconEyeOff");

        function setVisible(isVisible) {
          passwordInput.type = isVisible ? "text" : "password";
          iconEyeOpen.classList.toggle("hidden", isVisible);
          iconEyeOff.classList.toggle("hidden", !isVisible);
        }

        toggleBtn.addEventListener("click", function () {
          const isPassword = passwordInput.type === "password";
          setVisible(isPassword);
        });
      });

      // Login form handling
      document
        .getElementById("loginForm")
        .addEventListener("submit", async function (e) {
          e.preventDefault();

          const loginField = document.getElementById("email").value.trim();
          const password = document.getElementById("password").value;

          try {
            const res = await fetch("http://localhost:4000/api/auth/login", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ 
                email: loginField, 
                username: loginField, 
                password 
              }),
            });

            const data = await res.json();
            if (!res.ok) throw new Error(data.error || "Login failed");

            try {
              localStorage.setItem("authToken", data.token);
              localStorage.setItem("userData", JSON.stringify(data.user));
            } catch {}

            // Redirect based on user role
            if (data.user.role === 'admin') {
              window.location.href = "admin-dashboard.html";
            } else {
              window.location.href = "profile.html";
            }
          } catch (err) {
            alert(err.message);
          }
        });
    </script></body></html>
